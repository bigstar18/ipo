<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>打印单号</title>
  <script type="text/javascript" src="../../../static/jquery/jquery-1.8.0.min.js"></script>
  <script type="text/javascript" src="dickytest/vue.js"></script>
</head>

<body>
  <input type="button" value="打印页面" onclick="printpage()" />

    <table id="ctable" width="65%" border="1" cellspacing="0" cellpadding="0" align="center">
      <tbody>
        <tr>
          <td align="center" height="35">
            <span>
	          提货单号：
	        </span>
          </td>
          <td align="center">
          {{deliveryorderId}}
          </td>
        </tr>
        <tr>
          <td align="center" height="35">
            <span>
	          商品代码：
	        </span>
          </td>
          <td align="center">
          {{commodityId}}
          </td>
        </tr>
        <tr>
          <td align="center" height="35">
            <span>
	          商品名称：
	        </span>
          </td>
          <td align="center">
          {{commodityName}}
          </td>
        </tr>
        <tr>
          <td align="center" height="35">
            <span>
	          交收仓库名称：
	        </span>
          </td>
          <td align="center">
          {{warehouseName}}
          </td>
        </tr>
        <tr>
          <td align="center" height="35">
            <span>
	          交割数量：
	        </span>
          </td>
          <td align="center">
          {{deliverQuatity}}
          </td>
        </tr>
        <tr>
          <td align="center" height="35">
            <span>
            提货密码：
          </span>
          </td>
          <td align="center">
          {{pickupPassword}}
          </td>
        </tr>
        <tr>
          <td align="center" height="35">
            <span>
	          单位：
	        </span>
          </td>
          <td align="center">
          {{unit}}
          </td>
        </tr>
        <tr>
          <td align="center" height="35">
            <span>
	          提货日期：
	        </span>
          </td>
          <td align="center" id="deliveryDate">
          {{deliveryDate}}
          </td>
        </tr>
      </tbody>
    </table>

  <script type="text/javascript">
  function printpage() {
    var newWin = window.open('提货信息', '', '');
    var titleHTML = document.getElementById("form_table").innerHTML;
    newWin.document.write(titleHTML);
    newWin.document.location.reload();
    newWin.print();
  }
  $(document).ready(function() {
    var url = location.search;
    if (url.indexOf("?") != -1) {
      var str = url.substr(1);
      strs = str.split("=");
    }
    var methodid = strs[1];//获取url参数

    var ctable = new Vue({
      el: '#ctable',
      data: {

          "position": 1566,
          "approvers": "111",
          "dealerId": "111",
          "deliveryMethod": "自提",
          "remarks": null,
          "dealerName": "111",
          "warehouseId": "111",
          "commodityName": "111",
          "applyDate": "2015-12-14 00:00:00",
          "deliveryorderId": "111",
          "unit": "111",
          "warehouseName": "111",
          "cancelDate": null,
          "approvalStatus": 7,
          "approveDate": "2015-12-21 00:00:00",
          "deliveryQuatity": 111,
          "deliveryDate": "2015-12-30 00:00:00",
          "canceler": null,
          "commodityId": "111",
          "deliveryCounts": null,
          "methodId": "111"

    }
  });






    $.ajax({
      type: 'post',
      // url: "<%=request.getContextPath()%>/SettlementDeliveryController/getDetail",
      data:{"methodid":methodid,"randnum":Math.floor(Math.random()*1000000)},
      dataType: 'json',
      success : function(response) {
        data = response;
      },
      error: function(response) {
        alert("系统异常，请联系管理员");
      }
    });

    // $('#deliveryDate').val().substr(0, 10);
    var cdata = $('#deliveryDate').text().substr(10, 10)
    $('#deliveryDate').html(cdata);
    // console.log($('#deliveryDate').text().substr(10, 10));
  });
  </script>
</body>

</html>
